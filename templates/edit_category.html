{% extends "base.html" %}
{% block main_content %}

<div class="container containerExt">
  <h1 class="display-4 mb-4">Details</h1>
  <form action="" method="post" novalidate>
    {{ form.hidden_tag() }}
    <div class="form-group">
      {{form.category.label}}
      {{form.category(class="form-control")}}
    
      {% for error in form.category.errors %}
      <div class="invalid-feedback d-block"> {{ error }}</div>
      {% endfor %}
    
    </div>
    {{ form.submit(class = "btn btn-primary mt-3", style = "margin-bottom:5%", value = "Save category name") }}
  </form>
  {% if not items[0]["price"] %}
  <div class="alert alert-danger my-4 mx-4" role="alert">
      There are currently no purchases/inflows that match this category.
    </div>
  {% else %}
    <table class="table table-striped table-hover table-responsive">
      <thead>
        <tr>
          <th>Item</th>
          <th>Price</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody>
        {% for row in items %}
        <tr>
          <td>{{row["item"]}}</td>
          <td>{{row["price"]}}</td>
          <td>{{row["date"]}}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <p class="mt-3">{{items[0]["total"]}}</p>
  {% endif %}
</div>
{% endblock %}